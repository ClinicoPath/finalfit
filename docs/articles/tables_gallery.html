<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tables gallery • finalfit</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Tables gallery">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">finalfit</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/finalfit.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/bootstrap.html">Bootstrap simulation for model prediction</a>
    </li>
    <li>
      <a href="../articles/data_prep.html">Preparing data for finalfit</a>
    </li>
    <li>
      <a href="../articles/export.html">Exporting tables and plots</a>
    </li>
    <li>
      <a href="../articles/missing.html">Missing data</a>
    </li>
    <li>
      <a href="../articles/tables_gallery.html">Tables gallery</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ewenharrison/finalfit">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Tables gallery</h1>
                        <h4 class="author">Ewen Harrison</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ewenharrison/finalfit/blob/master/vignettes/tables_gallery.Rmd"><code>vignettes/tables_gallery.Rmd</code></a></small>
      <div class="hidden name"><code>tables_gallery.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"finalfit"</span>)</a></code></pre></div>
<div id="cross-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#cross-tables" class="anchor"></a>1 Cross tables</h2>
<p>Two-way tables are used extensively in healthcare research, e.g. a 2x2 table comparing two factors with two levels each, or table 1 from a typical clinical study or trial</p>
<p>The main functions all take a <code>dependent</code> variable - the outcome (maximum of 5 levels) - and <code>explanatory</code> variables - predictors or exposures (any number categorical or continuous variables).</p>
<div id="default" class="section level3">
<h3 class="hasAnchor">
<a href="#default" class="anchor"></a>1.01 Default</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; Warning in chisq.test(tab, correct = FALSE): Chi-squared approximation may</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; be incorrect</span></a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Mean (SD)</td>
<td align="right">59.8 (11.9)</td>
<td align="right">58.4 (13.3)</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (97.1)</td>
<td align="right">2 (2.9)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (97.1)</td>
<td align="right">10 (2.9)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (97.1)</td>
<td align="right">15 (2.9)</td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (97.1)</td>
<td align="right">13 (2.9)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (97.1)</td>
<td align="right">14 (2.9)</td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (97.7)</td>
<td align="right">17 (2.3)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (94.3)</td>
<td align="right">10 (5.7)</td>
</tr>
</tbody>
</table>
<p>Note, chi-squared warnings will be generated when the expected count in any cell is less than 5. Fisher’s exact test has not been implemented, given it is so easy to go straight to a univariable logistic regression, e.g. <code>colon_s %&gt;% finalfit(dependent, explanatory)</code></p>
</div>
<div id="add-or-edit-variable-labels" class="section level3">
<h3 class="hasAnchor">
<a href="#add-or-edit-variable-labels" class="anchor"></a>1.02 Add or edit variable labels</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">        <span class="dt">sex.factor =</span> <span class="kw"><a href="../reference/ff_label.html">ff_label</a></span>(sex.factor, <span class="st">"Gender"</span>)</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Mean (SD)</td>
<td align="right">59.8 (11.9)</td>
<td align="right">58.4 (13.3)</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (97.1)</td>
<td align="right">2 (2.9)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (97.1)</td>
<td align="right">10 (2.9)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (97.1)</td>
<td align="right">15 (2.9)</td>
</tr>
<tr class="odd">
<td align="left">Gender</td>
<td align="left">Female</td>
<td align="right">432 (97.1)</td>
<td align="right">13 (2.9)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (97.1)</td>
<td align="right">14 (2.9)</td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (97.7)</td>
<td align="right">17 (2.3)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (94.3)</td>
<td align="right">10 (5.7)</td>
</tr>
</tbody>
</table>
</div>
<div id="p-value-for-hypothesis-test" class="section level3">
<h3 class="hasAnchor">
<a href="#p-value-for-hypothesis-test" class="anchor"></a>1.03 P-value for hypothesis test</h3>
<p>Chi-squared for categorical, Kruskal-Wallis/Mann-Whitney for continuous</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Mean (SD)</td>
<td align="right">59.8 (11.9)</td>
<td align="right">58.4 (13.3)</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (97.1)</td>
<td align="right">2 (2.9)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (97.1)</td>
<td align="right">10 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (97.1)</td>
<td align="right">15 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (97.1)</td>
<td align="right">13 (2.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (97.1)</td>
<td align="right">14 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (97.7)</td>
<td align="right">17 (2.3)</td>
<td align="right">0.018</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (94.3)</td>
<td align="right">10 (5.7)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="median-interquartile-range-instead-of-mean-standard-deviation" class="section level3">
<h3 class="hasAnchor">
<a href="#median-interquartile-range-instead-of-mean-standard-deviation" class="anchor"></a>1.04 Median (interquartile range) instead of mean (standard deviation)</h3>
<p>… for continuous variables.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (97.1)</td>
<td align="right">2 (2.9)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (97.1)</td>
<td align="right">10 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (97.1)</td>
<td align="right">15 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (97.1)</td>
<td align="right">13 (2.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (97.1)</td>
<td align="right">14 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (97.7)</td>
<td align="right">17 (2.3)</td>
<td align="right">0.018</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (94.3)</td>
<td align="right">10 (5.7)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="missing-values-for-the-explanatory-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#missing-values-for-the-explanatory-variables" class="anchor"></a>1.05 Missing values for the explanatory variables</h3>
<p>Always do this when describing your data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (97.1)</td>
<td align="right">2 (2.9)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (97.1)</td>
<td align="right">10 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (97.1)</td>
<td align="right">15 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (97.1)</td>
<td align="right">13 (2.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (97.1)</td>
<td align="right">14 (2.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (97.7)</td>
<td align="right">17 (2.3)</td>
<td align="right">0.042</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (94.3)</td>
<td align="right">10 (5.7)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Missing</td>
<td align="right">21 (100.0)</td>
<td align="right">0 (0.0)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="column-proportions-rather-than-row" class="section level3">
<h3 class="hasAnchor">
<a href="#column-proportions-rather-than-row" class="anchor"></a>1.06 Column proportions (rather than row)</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">                                         <span class="dt">column =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (7.5)</td>
<td align="right">2 (7.4)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (37.0)</td>
<td align="right">10 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (55.4)</td>
<td align="right">15 (55.6)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (47.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (52.1)</td>
<td align="right">14 (51.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (79.3)</td>
<td align="right">17 (63.0)</td>
<td align="right">0.042</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (18.4)</td>
<td align="right">10 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Missing</td>
<td align="right">21 (2.3)</td>
<td align="right">0 (0.0)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="total-column" class="section level3">
<h3 class="hasAnchor">
<a href="#total-column" class="anchor"></a>1.07 Total column</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">                                         <span class="dt">column =</span> <span class="ot">TRUE</span>, <span class="dt">total_col =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">Total</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td align="left">Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">NA</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td align="left">&lt;40 years</td>
<td align="right">68 (7.5)</td>
<td align="right">2 (7.4)</td>
<td align="right">70 (7.5)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">40-59 years</td>
<td align="right">334 (37.0)</td>
<td align="right">10 (37.0)</td>
<td align="right">344 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">60+ years</td>
<td align="right">500 (55.4)</td>
<td align="right">15 (55.6)</td>
<td align="right">515 (55.4)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td align="left">Female</td>
<td align="right">432 (47.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">445 (47.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Male</td>
<td align="right">470 (52.1)</td>
<td align="right">14 (51.9)</td>
<td align="right">484 (52.1)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td align="left">No</td>
<td align="right">715 (79.3)</td>
<td align="right">17 (63.0)</td>
<td align="right">732 (78.8)</td>
<td align="right">0.042</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Yes</td>
<td align="right">166 (18.4)</td>
<td align="right">10 (37.0)</td>
<td align="right">176 (18.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Missing</td>
<td align="right">21 (2.3)</td>
<td align="right">0 (0.0)</td>
<td align="right">21 (2.3)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="order-a-variable-by-total" class="section level3">
<h3 class="hasAnchor">
<a href="#order-a-variable-by-total" class="anchor"></a>1.08 Order a variable by total</h3>
<p>This is intended for when there is only one <code>explanatory</code> variable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"extent.factor"</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">                                         <span class="dt">column =</span> <span class="ot">TRUE</span>, <span class="dt">total_col =</span> <span class="ot">TRUE</span>, <span class="dt">orderbytotal =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">Total</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Extent of spread</td>
<td align="left">Serosa</td>
<td align="right">736 (81.6)</td>
<td align="right">23 (85.2)</td>
<td align="right">759 (81.7)</td>
<td align="right">0.200</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Muscle</td>
<td align="right">105 (11.6)</td>
<td align="right">1 (3.7)</td>
<td align="right">106 (11.4)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Adjacent structures</td>
<td align="right">40 (4.4)</td>
<td align="right">3 (11.1)</td>
<td align="right">43 (4.6)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Submucosa</td>
<td align="right">21 (2.3)</td>
<td align="right">0 (0.0)</td>
<td align="right">21 (2.3)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="label-with-dependent-name" class="section level3">
<h3 class="hasAnchor">
<a href="#label-with-dependent-name" class="anchor"></a>1.09 Label with <code>dependent</code> name</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">                                         <span class="dt">column =</span> <span class="ot">TRUE</span>, <span class="dt">total_col =</span> <span class="ot">TRUE</span>, <span class="dt">add_dependent_label =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Perforation</th>
<th></th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">Total</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td>Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">NA</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">68 (7.5)</td>
<td align="right">2 (7.4)</td>
<td align="right">70 (7.5)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">334 (37.0)</td>
<td align="right">10 (37.0)</td>
<td align="right">344 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td>60+ years</td>
<td align="right">500 (55.4)</td>
<td align="right">15 (55.6)</td>
<td align="right">515 (55.4)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">432 (47.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">445 (47.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Male</td>
<td align="right">470 (52.1)</td>
<td align="right">14 (51.9)</td>
<td align="right">484 (52.1)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">715 (79.3)</td>
<td align="right">17 (63.0)</td>
<td align="right">732 (78.8)</td>
<td align="right">0.042</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Yes</td>
<td align="right">166 (18.4)</td>
<td align="right">10 (37.0)</td>
<td align="right">176 (18.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Missing</td>
<td align="right">21 (2.3)</td>
<td align="right">0 (0.0)</td>
<td align="right">21 (2.3)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>The dependent name cannot be passed directly to the table intentionally. This is to avoid errors when code is copied and the name is not updated. Change the dependent label using the following. The prefix (“Dependent:”) and any suffix can be altered.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">dependent =<span class="st"> "perfor.factor"</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">    <span class="dt">perfor.factor =</span> <span class="kw"><a href="../reference/ff_label.html">ff_label</a></span>(perfor.factor, <span class="st">"Perforated cancer"</span>)</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">    <span class="dt">column =</span> <span class="ot">TRUE</span>, <span class="dt">total_col =</span> <span class="ot">TRUE</span>, <span class="dt">add_dependent_label =</span> <span class="ot">TRUE</span>, <span class="dt">dependent_label_prefix =</span> <span class="st">""</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Perforated cancer</th>
<th></th>
<th align="right">No</th>
<th align="right">Yes</th>
<th align="right">Total</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td>Median (IQR)</td>
<td align="right">61 (16)</td>
<td align="right">60 (18)</td>
<td align="right">NA</td>
<td align="right">0.578</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">68 (7.5)</td>
<td align="right">2 (7.4)</td>
<td align="right">70 (7.5)</td>
<td align="right">1.000</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">334 (37.0)</td>
<td align="right">10 (37.0)</td>
<td align="right">344 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td>60+ years</td>
<td align="right">500 (55.4)</td>
<td align="right">15 (55.6)</td>
<td align="right">515 (55.4)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">432 (47.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">445 (47.9)</td>
<td align="right">0.979</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Male</td>
<td align="right">470 (52.1)</td>
<td align="right">14 (51.9)</td>
<td align="right">484 (52.1)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">715 (79.3)</td>
<td align="right">17 (63.0)</td>
<td align="right">732 (78.8)</td>
<td align="right">0.042</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Yes</td>
<td align="right">166 (18.4)</td>
<td align="right">10 (37.0)</td>
<td align="right">176 (18.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Missing</td>
<td align="right">21 (2.3)</td>
<td align="right">0 (0.0)</td>
<td align="right">21 (2.3)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="dependent-variable-with-0-to-5-factor-levels-supported" class="section level3">
<h3 class="hasAnchor">
<a href="#dependent-variable-with-0-to-5-factor-levels-supported" class="anchor"></a>1.10 Dependent variable with 0 to 5 factor levels supported</h3>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">dependent =<span class="st"> "extent.factor"</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">    <span class="dt">perfor.factor =</span> <span class="kw"><a href="../reference/ff_label.html">ff_label</a></span>(perfor.factor, <span class="st">"Perforated cancer"</span>)</a>
<a class="sourceLine" id="cb12-7" data-line-number="7">  ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">p =</span> <span class="ot">TRUE</span>, <span class="dt">cont =</span> <span class="st">"median"</span>, <span class="dt">na_include =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">    <span class="dt">column =</span> <span class="ot">TRUE</span>, <span class="dt">total_col =</span> <span class="ot">TRUE</span>, <span class="dt">add_dependent_label =</span> <span class="ot">TRUE</span>, <span class="dt">dependent_label_prefix =</span> <span class="st">""</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Extent of spread</th>
<th></th>
<th align="right">Submucosa</th>
<th align="right">Muscle</th>
<th align="right">Serosa</th>
<th align="right">Adjacent structures</th>
<th align="right">Total</th>
<th align="right">p</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td>Median (IQR)</td>
<td align="right">56 (14)</td>
<td align="right">61.5 (14)</td>
<td align="right">61 (16)</td>
<td align="right">61 (12.5)</td>
<td align="right">NA</td>
<td align="right">0.334</td>
</tr>
<tr class="even">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">2 (9.5)</td>
<td align="right">8 (7.5)</td>
<td align="right">56 (7.4)</td>
<td align="right">4 (9.3)</td>
<td align="right">70 (7.5)</td>
<td align="right">0.338</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">12 (57.1)</td>
<td align="right">32 (30.2)</td>
<td align="right">285 (37.5)</td>
<td align="right">15 (34.9)</td>
<td align="right">344 (37.0)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td>60+ years</td>
<td align="right">7 (33.3)</td>
<td align="right">66 (62.3)</td>
<td align="right">418 (55.1)</td>
<td align="right">24 (55.8)</td>
<td align="right">515 (55.4)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">13 (61.9)</td>
<td align="right">47 (44.3)</td>
<td align="right">366 (48.2)</td>
<td align="right">19 (44.2)</td>
<td align="right">445 (47.9)</td>
<td align="right">0.483</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Male</td>
<td align="right">8 (38.1)</td>
<td align="right">59 (55.7)</td>
<td align="right">393 (51.8)</td>
<td align="right">24 (55.8)</td>
<td align="right">484 (52.1)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">20 (95.2)</td>
<td align="right">88 (83.0)</td>
<td align="right">588 (77.5)</td>
<td align="right">36 (83.7)</td>
<td align="right">732 (78.8)</td>
<td align="right">0.037</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Yes</td>
<td align="right">1 (4.8)</td>
<td align="right">13 (12.3)</td>
<td align="right">157 (20.7)</td>
<td align="right">5 (11.6)</td>
<td align="right">176 (18.9)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Missing</td>
<td align="right">0 (0.0)</td>
<td align="right">5 (4.7)</td>
<td align="right">14 (1.8)</td>
<td align="right">2 (4.7)</td>
<td align="right">21 (2.3)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
</div>
<div id="explanatory-variable-defaults-to-factor-when-5-distinct-values" class="section level3">
<h3 class="hasAnchor">
<a href="#explanatory-variable-defaults-to-factor-when-5-distinct-values" class="anchor"></a>1.11 Explanatory variable defaults to factor when ≤5 distinct values</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="co"># Here, `extent` is a continuous variable with 4 distinct values. </span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co"># Any continuous variable with 5 or fewer unique values is converted silently to factor </span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="co"># e.g.</span></a>
<a class="sourceLine" id="cb13-6" data-line-number="6">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"extent"</span>)</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">Alive</th>
<th align="right">Died</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">extent</td>
<td align="left">1</td>
<td align="right">16 (80.0)</td>
<td align="right">4 (20.0)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">2</td>
<td align="right">78 (75.7)</td>
<td align="right">25 (24.3)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">3</td>
<td align="right">401 (53.5)</td>
<td align="right">349 (46.5)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">4</td>
<td align="right">16 (38.1)</td>
<td align="right">26 (61.9)</td>
</tr>
</tbody>
</table>
</div>
<div id="keep-as-continous-variable-when-5-distinct-values" class="section level3">
<h3 class="hasAnchor">
<a href="#keep-as-continous-variable-when-5-distinct-values" class="anchor"></a>1.12 Keep as continous variable when ≤5 distinct values</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"extent"</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">cont_cut =</span> <span class="dv">3</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">label</th>
<th align="left">levels</th>
<th align="right">Alive</th>
<th align="right">Died</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">extent</td>
<td align="left">Mean (SD)</td>
<td align="right">2.8 (0.5)</td>
<td align="right">3 (0.4)</td>
</tr></tbody>
</table>
</div>
</div>
<div id="model-tables-with-finalfit" class="section level2">
<h2 class="hasAnchor">
<a href="#model-tables-with-finalfit" class="anchor"></a>2 Model tables with <code><a href="../reference/finalfit.html">finalfit()</a></code>
</h2>
<div id="default-1" class="section level3">
<h3 class="hasAnchor">
<a href="#default-1" class="anchor"></a>2.01 Default</h3>
<p>Logistic regression first.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="hide-reference-levels" class="section level3">
<h3 class="hasAnchor">
<a href="#hide-reference-levels" class="anchor"></a>2.02 Hide reference levels</h3>
<p>Most appropriate when all explanatory variables are continuous or well-known binary variables, such as sex.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age"</span>, <span class="st">"sex.factor"</span>)</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">add_dependent_label =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/ff_remove_ref.html">ff_remove_ref</a></span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="../reference/dependent_label.html">dependent_label</a></span>(colon_s, dependent)-&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age (years)</td>
<td>Mean (SD)</td>
<td align="right">59.8 (11.4)</td>
<td align="right">59.9 (12.5)</td>
<td align="right">1.00 (0.99-1.01, p=0.986)</td>
<td align="right">1.00 (0.99-1.01, p=0.983)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.76-1.27, p=0.888)</td>
</tr>
</tbody>
</table>
</div>
<div id="model-metrics" class="section level3">
<h3 class="hasAnchor">
<a href="#model-metrics" class="anchor"></a>2.03 Model metrics</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">metrics =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup><col width="100%"></colgroup>
<tbody><tr class="odd">
<td align="left">Number in dataframe = 929, Number in model = 894, Missing = 35, AIC = 1230.7, C-statistic = 0.56, H&amp;L = Chi-sq(8) 5.69 (p=0.682)</td>
</tr></tbody>
</table>
</div>
<div id="model-metrics-can-be-applied-to-all-supported-base-models" class="section level3">
<h3 class="hasAnchor">
<a href="#model-metrics-can-be-applied-to-all-supported-base-models" class="anchor"></a>2.04 Model metrics can be applied to all supported base models</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw">glm</span>(mort_5yr <span class="op">~</span><span class="st"> </span>age.factor <span class="op">+</span><span class="st"> </span>sex.factor <span class="op">+</span><span class="st"> </span>obstruct.factor <span class="op">+</span><span class="st"> </span>perfor.factor, <span class="dt">data =</span> colon_s, <span class="dt">family =</span> <span class="st">"binomial"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">    </span><span class="kw"><a href="../reference/ff_metrics.html">ff_metrics</a></span>() -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<colgroup><col width="100%"></colgroup>
<tbody><tr class="odd">
<td align="left">Number in dataframe = 929, Number in model = 894, Missing = 35, AIC = 1230.7, C-statistic = 0.56, H&amp;L = Chi-sq(8) 5.69 (p=0.682)</td>
</tr></tbody>
</table>
</div>
<div id="reduced-model" class="section level3">
<h3 class="hasAnchor">
<a href="#reduced-model" class="anchor"></a>2.05 Reduced model</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">explanatory_multi =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, explanatory_multi) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.424)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.26 (0.90-1.76, p=0.176)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">-</td>
</tr>
</tbody>
</table>
</div>
<div id="include-all-models" class="section level3">
<h3 class="hasAnchor">
<a href="#include-all-models" class="anchor"></a>2.06 Include all models</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">explanatory_multi =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"obstruct.factor"</span>)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, explanatory_multi, <span class="dt">metrics =</span> <span class="ot">TRUE</span>, <span class="dt">keep_models =</span> <span class="ot">TRUE</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
<th align="right">OR (multivariable reduced)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
<td align="right">0.81 (0.48-1.36, p=0.424)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
<td align="right">1.26 (0.90-1.76, p=0.176)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
<td align="right">-</td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup><col width="100%"></colgroup>
<tbody>
<tr class="odd">
<td align="left">Number in dataframe = 929, Number in model = 894, Missing = 35, AIC = 1230.7, C-statistic = 0.56, H&amp;L = Chi-sq(8) 5.69 (p=0.682)</td>
</tr>
<tr class="even">
<td align="left">Number in dataframe = 929, Number in model = 894, Missing = 35, AIC = 1226.8, C-statistic = 0.555, H&amp;L = Chi-sq(8) 0.06 (p=1.000)</td>
</tr>
</tbody>
</table>
</div>
<div id="interactions" class="section level3">
<h3 class="hasAnchor">
<a href="#interactions" class="anchor"></a>2.06 Interactions</h3>
<p>Interactions can be specified in the normal way. Formatting the output is trickier. At the moment, we have left the default model output. This can be adjusted as necessary.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor*sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.65 (0.32-1.34, p=0.241)</td>
<td align="right">0.66 (0.32-1.36, p=0.258)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.80 (0.40-1.61, p=0.529)</td>
<td align="right">0.85 (0.42-1.71, p=0.647)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">1.24 (0.47-3.30, p=0.665)</td>
<td align="right">1.17 (0.44-3.15, p=0.752)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.26 (0.90-1.76, p=0.182)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.11 (0.50-2.41, p=0.795)</td>
</tr>
<tr class="even">
<td align="left">age.factor40-59 years:sex.factorMale</td>
<td>Interaction</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.68 (0.23-1.97, p=0.479)</td>
<td align="right">0.74 (0.25-2.18, p=0.588)</td>
</tr>
<tr class="odd">
<td align="left">age.factor60+ years:sex.factorMale</td>
<td>Interaction</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.86 (0.30-2.39, p=0.766)</td>
<td align="right">0.89 (0.31-2.51, p=0.822)</td>
</tr>
</tbody>
</table>
</div>
<div id="interactions-create-interaction-variable-with-two-factors" class="section level3">
<h3 class="hasAnchor">
<a href="#interactions-create-interaction-variable-with-two-factors" class="anchor"></a>2.07 Interactions: create interaction variable with two factors</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">#explanatory = c("age.factor*sex.factor", "obstruct.factor", "perfor.factor")</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/ff_interaction.html">ff_interaction</a></span>(age.factor, sex.factor) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, <span class="kw">c</span>(explanatory, <span class="st">"age.factor__sex.factor"</span>)) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.26 (0.90-1.76, p=0.182)</td>
</tr>
<tr class="odd">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.11 (0.50-2.41, p=0.795)</td>
</tr>
<tr class="odd">
<td align="left">Age:Sex</td>
<td>&lt;40 years|Female</td>
<td align="right">18 (3.5)</td>
<td align="right">19 (4.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>&lt;40 years|Male</td>
<td align="right">13 (2.5)</td>
<td align="right">17 (4.2)</td>
<td align="right">1.24 (0.47-3.30, p=0.665)</td>
<td align="right">1.17 (0.44-3.15, p=0.752)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>40-59 years|Female</td>
<td align="right">96 (18.8)</td>
<td align="right">66 (16.3)</td>
<td align="right">0.65 (0.32-1.34, p=0.241)</td>
<td align="right">0.66 (0.32-1.36, p=0.258)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years|Male</td>
<td align="right">112 (21.9)</td>
<td align="right">65 (16.1)</td>
<td align="right">0.55 (0.27-1.12, p=0.100)</td>
<td align="right">0.57 (0.28-1.18, p=0.129)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years|Female</td>
<td align="right">129 (25.2)</td>
<td align="right">109 (27.0)</td>
<td align="right">0.80 (0.40-1.61, p=0.529)</td>
<td align="right">0.85 (0.42-1.71, p=0.647)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>60+ years|Male</td>
<td align="right">143 (28.0)</td>
<td align="right">128 (31.7)</td>
<td align="right">0.85 (0.42-1.69, p=0.638)</td>
<td align="right">0.88 (0.44-1.77, p=0.725)</td>
</tr>
</tbody>
</table>
</div>
<div id="dependent-name" class="section level3">
<h3 class="hasAnchor">
<a href="#dependent-name" class="anchor"></a>2.08 Dependent name</h3>
<p>The dependent name cannot be specified directly intentionally. This is to prevent errors when copying code. Re-label using <code><a href="../reference/ff_label.html">ff_label()</a></code>. The dependent prefix and suffix can also be altered.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(</a>
<a class="sourceLine" id="cb23-6" data-line-number="6">        <span class="dt">mort_5yr =</span> <span class="kw"><a href="../reference/ff_label.html">ff_label</a></span>(mort_5yr, <span class="st">"5-year mortality"</span>)</a>
<a class="sourceLine" id="cb23-7" data-line-number="7">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">dependent_label_prefix =</span> <span class="st">""</span>,</a>
<a class="sourceLine" id="cb23-9" data-line-number="9">                     <span class="dt">dependent_label_suffix =</span> <span class="st">" (full model)"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">5-year mortality (full model)</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="estimate-name" class="section level3">
<h3 class="hasAnchor">
<a href="#estimate-name" class="anchor"></a>2.09 Estimate name</h3>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">estimate_name =</span> <span class="st">"Odds ratio"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">Odds ratio (univariable)</th>
<th align="right">Odds ratio (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="digits-decimal-places" class="section level3">
<h3 class="hasAnchor">
<a href="#digits-decimal-places" class="anchor"></a>2.10 Digits / decimal places</h3>
<p>Number of digits to round to regression results. (1) estimate, (2) confidence interval limits, (3) p-value. Default is c(2,2,3). Trailing zeros are preserved. Number of decimal places for counts and mean (sd) / median (IQR) not currently supported. Defaults are senisble :)</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">digits =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>)) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.542 (0.319-0.918, p=0.0230)</td>
<td align="right">0.574 (0.335-0.978, p=0.0412)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.750 (0.448-1.250, p=0.2704)</td>
<td align="right">0.810 (0.481-1.360, p=0.4261)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.981 (0.756-1.275, p=0.8886)</td>
<td align="right">0.983 (0.754-1.283, p=0.9023)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.249 (0.896-1.741, p=0.1892)</td>
<td align="right">1.255 (0.896-1.757, p=0.1859)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.180 (0.542-2.553, p=0.6716)</td>
<td align="right">1.122 (0.512-2.442, p=0.7699)</td>
</tr>
</tbody>
</table>
</div>
<div id="confidence-interval-type" class="section level3">
<h3 class="hasAnchor">
<a href="#confidence-interval-type" class="anchor"></a>2.11 Confidence interval type</h3>
<p>One of <code>c("profile", "default")</code> for GLM models (<code>confint.glm()</code>). Note, a little awkwardly, the ‘default’ setting is <code>profile</code>, rather than <code>default</code>. Profile levels are probably a little more accurate. Only go to default if taking a significant length of time for profile, i.e. data is greater than hundreds of thousands of lines.</p>
<p>For glmer/lmer models (<code>confint.merMod()</code>), <code>c("profile", "Wald", "boot")</code>. Not implemented for <code>lm()</code>, <code>coxph()</code> or <code>coxphlist</code>, which use default.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">confint_type =</span> <span class="st">"default"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.55-2.54, p=0.672)</td>
<td align="right">1.12 (0.52-2.43, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="confidence-interval-level" class="section level3">
<h3 class="hasAnchor">
<a href="#confidence-interval-level" class="anchor"></a>2.12 Confidence interval level</h3>
<p>Probably never change this :) Note, the p-value is intentionally not included for confidence levels other than 95% to avoid confusion.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb27-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">confint_level =</span> <span class="fl">0.90</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.35-0.84)</td>
<td align="right">0.57 (0.37-0.90)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.49-1.15)</td>
<td align="right">0.81 (0.52-1.25)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.79-1.22)</td>
<td align="right">0.98 (0.79-1.23)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.95-1.65)</td>
<td align="right">1.25 (0.95-1.66)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.62-2.25)</td>
<td align="right">1.12 (0.58-2.15)</td>
</tr>
</tbody>
</table>
</div>
<div id="confidence-interval-separation" class="section level3">
<h3 class="hasAnchor">
<a href="#confidence-interval-separation" class="anchor"></a>2.13 Confidence interval separation</h3>
<p>Some like to avoid the hyphen so as not to confuse with minus sign. Obviously not an issue in logistic regression.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">confint_sep =</span> <span class="st">" to "</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32 to 0.92, p=0.023)</td>
<td align="right">0.57 (0.34 to 0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45 to 1.25, p=0.270)</td>
<td align="right">0.81 (0.48 to 1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76 to 1.27, p=0.889)</td>
<td align="right">0.98 (0.75 to 1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90 to 1.74, p=0.189)</td>
<td align="right">1.25 (0.90 to 1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54 to 2.55, p=0.672)</td>
<td align="right">1.12 (0.51 to 2.44, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="mixed-effects-random-intercept-model" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-effects-random-intercept-model" class="anchor"></a>2.14 Mixed effects random-intercept model</h3>
<p>At its simplest, a random-intercept model can be specified using a single quoted variable. In this example, it is the equivalent of quoting <code>random_effect = "(1 | hospital)"</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4">random_effect =<span class="st"> "hospital"</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb29-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">random_effect =</span> random_effect,</a>
<a class="sourceLine" id="cb29-7" data-line-number="7">                     <span class="dt">dependent_label_suffix =</span> <span class="st">" (random intercept)"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year (random intercept)</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.75 (0.39-1.44, p=0.382)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">1.03 (0.55-1.96, p=0.916)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.80 (0.58-1.11, p=0.180)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.23 (0.82-1.83, p=0.320)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.03 (0.43-2.51, p=0.940)</td>
</tr>
</tbody>
</table>
</div>
<div id="mixed-effects-random-slope-model" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-effects-random-slope-model" class="anchor"></a>2.15 Mixed effects random-slope model</h3>
<p>In the example below, allow the effect of age on outcome to vary by hospital. Note, this specification must have parentheses included.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4">random_effect =<span class="st"> "(age.factor | hospital)"</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">random_effect =</span> random_effect,</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">                     <span class="dt">dependent_label_suffix =</span> <span class="st">" (random slope: age)"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year (random slope: age)</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.81 (0.37-1.81, p=0.611)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">1.08 (0.54-2.20, p=0.822)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.80 (0.58-1.11, p=0.179)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.24 (0.83-1.85, p=0.298)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.02 (0.42-2.48, p=0.967)</td>
</tr>
</tbody>
</table>
</div>
<div id="mixed-effects-random-slope-model-directly-from-lme4" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-effects-random-slope-model-directly-from-lme4" class="anchor"></a>2.16 Mixed effects random-slope model directly from <code>lme4</code>
</h3>
<p>Clearly, as models get more complex, parameters such as random effect group variances may require to be extracted directly from model outputs.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4">random_effect =<span class="st"> "(age.factor | hospital)"</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5">colon_s <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="st">    </span>lme4<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/lme4/topics/glmer">glmer</a></span>(mort_5yr <span class="op">~</span><span class="st"> </span>age.factor <span class="op">+</span><span class="st"> </span>(age.factor <span class="op">|</span><span class="st"> </span>hospital), <span class="dt">family =</span> <span class="st">"binomial"</span>, <span class="dt">data =</span> .) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="st">    </span>broom<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/broom/topics/reexports">tidy</a></span>() -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">term</th>
<th align="left">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
<th align="right">group</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="left">-0.2537662</td>
<td align="right">0.8983060</td>
<td align="right">-0.2824941</td>
<td align="right">0.7775646</td>
<td align="right">fixed</td>
</tr>
<tr class="even">
<td align="left">age.factor40-59 years</td>
<td align="left">-0.3285638</td>
<td align="right">0.3830047</td>
<td align="right">-0.8578582</td>
<td align="right">0.3909707</td>
<td align="right">fixed</td>
</tr>
<tr class="odd">
<td align="left">age.factor60+ years</td>
<td align="left">-0.0531730</td>
<td align="right">0.3450263</td>
<td align="right">-0.1541128</td>
<td align="right">0.8775208</td>
<td align="right">fixed</td>
</tr>
<tr class="even">
<td align="left">sd_(Intercept).hospital</td>
<td align="left">1.8670680</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
<tr class="odd">
<td align="left">sd_age.factor40-59 years.hospital</td>
<td align="left">0.3382630</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
<tr class="even">
<td align="left">sd_age.factor60+ years.hospital</td>
<td align="left">0.0826644</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
<tr class="odd">
<td align="left">cor_(Intercept).age.factor40-59 years.hospital</td>
<td align="left">-0.9999999</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
<tr class="even">
<td align="left">cor_(Intercept).age.factor60+ years.hospital</td>
<td align="left">-0.9999997</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
<tr class="odd">
<td align="left">cor_age.factor40-59 years.age.factor60+ years.hospital</td>
<td align="left">0.9999998</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">hospital</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="exclude-all-missing-data-in-final-model-from-univariable-analyses" class="section level2">
<h2 class="hasAnchor">
<a href="#exclude-all-missing-data-in-final-model-from-univariable-analyses" class="anchor"></a>2.17 Exclude all missing data in final model from univariable analyses</h2>
<p>This can be useful if you want the numbers in the final table to match the final multivariable model. However, be careful to include a full explanation of this in the methods and the reason for exluding the missing data.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb32-3" data-line-number="3">dependent =<span class="st"> 'mort_5yr'</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(explanatory, dependent) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="st">    </span><span class="kw">na.omit</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.2)</td>
<td align="right">35 (8.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">203 (40.8)</td>
<td align="right">129 (32.5)</td>
<td align="right">0.56 (0.33-0.96, p=0.034)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">263 (52.9)</td>
<td align="right">233 (58.7)</td>
<td align="right">0.78 (0.47-1.31, p=0.356)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">237 (47.7)</td>
<td align="right">192 (48.4)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">260 (52.3)</td>
<td align="right">205 (51.6)</td>
<td align="right">0.97 (0.75-1.27, p=0.841)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">483 (97.2)</td>
<td align="right">384 (96.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.8)</td>
<td align="right">13 (3.3)</td>
<td align="right">1.17 (0.54-2.53, p=0.691)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
<div id="linear-regression" class="section level3">
<h3 class="hasAnchor">
<a href="#linear-regression" class="anchor"></a>2.18 Linear regression</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">dependent =<span class="st"> 'nodes'</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: nodes</th>
<th></th>
<th align="right">Mean (sd)</th>
<th align="right">Coefficient (univariable)</th>
<th align="right">Coefficient (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">4.7 (4.5)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">3.6 (3.3)</td>
<td align="right">-1.14 (-2.08 to -0.21, p=0.016)</td>
<td align="right">-1.21 (-2.16 to -0.26, p=0.012)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-1.19 (-2.10 to -0.28, p=0.010)</td>
<td align="right">-1.25 (-2.18 to -0.33, p=0.008)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-0.14 (-0.60 to 0.33, p=0.565)</td>
<td align="right">-0.07 (-0.54 to 0.40, p=0.779)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">3.7 (3.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.5 (3.2)</td>
<td align="right">-0.24 (-0.83 to 0.36, p=0.435)</td>
<td align="right">-0.31 (-0.91 to 0.29, p=0.313)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.9 (2.8)</td>
<td align="right">0.24 (-1.13 to 1.61, p=0.735)</td>
<td align="right">0.28 (-1.09 to 1.66, p=0.686)</td>
</tr>
</tbody>
</table>
</div>
<div id="mixed-effects-random-intercept-linear-regression" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-effects-random-intercept-linear-regression" class="anchor"></a>2.19 Mixed effects random-intercept linear regression</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb34-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">dependent =<span class="st"> "nodes"</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4">random_effect =<span class="st"> "hospital"</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">random_effect =</span> random_effect,</a>
<a class="sourceLine" id="cb34-7" data-line-number="7">                     <span class="dt">dependent_label_suffix =</span> <span class="st">" (random intercept)"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: nodes (random intercept)</th>
<th></th>
<th align="right">Mean (sd)</th>
<th align="right">Coefficient (univariable)</th>
<th align="right">Coefficient (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">4.7 (4.5)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">3.6 (3.3)</td>
<td align="right">-1.14 (-2.08 to -0.21, p=0.016)</td>
<td align="right">0.45 (0.19 to 1.07, p=0.035)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-1.19 (-2.10 to -0.28, p=0.010)</td>
<td align="right">0.38 (0.16 to 0.87, p=0.011)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-0.14 (-0.60 to 0.33, p=0.565)</td>
<td align="right">0.83 (0.54 to 1.27, p=0.195)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">3.7 (3.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.5 (3.2)</td>
<td align="right">-0.24 (-0.83 to 0.36, p=0.435)</td>
<td align="right">0.69 (0.40 to 1.19, p=0.091)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.9 (2.8)</td>
<td align="right">0.24 (-1.13 to 1.61, p=0.735)</td>
<td align="right">1.26 (0.36 to 4.40, p=0.357)</td>
</tr>
</tbody>
</table>
</div>
<div id="mixed-effects-random-slope-linear-regression" class="section level3">
<h3 class="hasAnchor">
<a href="#mixed-effects-random-slope-linear-regression" class="anchor"></a>2.20 Mixed effects random-slope linear regression</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3">dependent =<span class="st"> "nodes"</span></a>
<a class="sourceLine" id="cb35-4" data-line-number="4">random_effect =<span class="st"> "(age.factor | hospital)"</span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">random_effect =</span> random_effect,</a>
<a class="sourceLine" id="cb35-7" data-line-number="7">                     <span class="dt">dependent_label_suffix =</span> <span class="st">" (random slope: age)"</span>) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: nodes (random slope: age)</th>
<th></th>
<th align="right">Mean (sd)</th>
<th align="right">Coefficient (univariable)</th>
<th align="right">Coefficient (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">4.7 (4.5)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">3.6 (3.3)</td>
<td align="right">-1.14 (-2.08 to -0.21, p=0.016)</td>
<td align="right">0.47 (0.18 to 1.25, p=0.065)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-1.19 (-2.10 to -0.28, p=0.010)</td>
<td align="right">0.40 (0.17 to 0.92, p=0.016)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">3.6 (3.6)</td>
<td align="right">-0.14 (-0.60 to 0.33, p=0.565)</td>
<td align="right">0.83 (0.54 to 1.27, p=0.196)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">3.7 (3.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.5 (3.2)</td>
<td align="right">-0.24 (-0.83 to 0.36, p=0.435)</td>
<td align="right">0.71 (0.41 to 1.23, p=0.112)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">3.7 (3.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">3.9 (2.8)</td>
<td align="right">0.24 (-1.13 to 1.61, p=0.735)</td>
<td align="right">1.22 (0.35 to 4.24, p=0.377)</td>
</tr>
</tbody>
</table>
</div>
<div id="cox-proportional-hazards-model-survival-time-to-event" class="section level3">
<h3 class="hasAnchor">
<a href="#cox-proportional-hazards-model-survival-time-to-event" class="anchor"></a>2.21 Cox proportional hazards model (survival / time to event)</h3>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb36-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb36-3" data-line-number="3">dependent =<span class="st"> "Surv(time, status)"</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Surv(time, status)</th>
<th></th>
<th align="right">HR (univariable)</th>
<th align="right">HR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">0.76 (0.53-1.09, p=0.132)</td>
<td align="right">0.79 (0.55-1.13, p=0.196)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">0.93 (0.66-1.31, p=0.668)</td>
<td align="right">0.98 (0.69-1.40, p=0.926)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">1.01 (0.84-1.22, p=0.888)</td>
<td align="right">1.02 (0.85-1.23, p=0.812)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">1.29 (1.03-1.62, p=0.028)</td>
<td align="right">1.30 (1.03-1.64, p=0.026)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">1.17 (0.70-1.95, p=0.556)</td>
<td align="right">1.08 (0.64-1.81, p=0.785)</td>
</tr>
</tbody>
</table>
</div>
<div id="cox-proportional-hazards-model-change-dependent-label" class="section level3">
<h3 class="hasAnchor">
<a href="#cox-proportional-hazards-model-change-dependent-label" class="anchor"></a>2.22 Cox proportional hazards model: change dependent label</h3>
<p>As above, the dependent label cannot be specfied directly in the model to avoid errors. However, in survival modelling the surivial object specification can be long or awkward. Therefore, here is the work around.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">dependent =<span class="st"> "Surv(time, status)"</span></a>
<a class="sourceLine" id="cb37-4" data-line-number="4">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory, <span class="dt">add_dependent_label =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">rename</a></span>(<span class="st">"Overall survival"</span> =<span class="st"> </span>label) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="st">    </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">rename</a></span>(<span class="st">" "</span> =<span class="st"> </span>levels) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Overall survival</th>
<th></th>
<th align="right">HR (univariable)</th>
<th align="right">HR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">0.76 (0.53-1.09, p=0.132)</td>
<td align="right">0.79 (0.55-1.13, p=0.196)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">0.93 (0.66-1.31, p=0.668)</td>
<td align="right">0.98 (0.69-1.40, p=0.926)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">1.01 (0.84-1.22, p=0.888)</td>
<td align="right">1.02 (0.85-1.23, p=0.812)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">1.29 (1.03-1.62, p=0.028)</td>
<td align="right">1.30 (1.03-1.64, p=0.026)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">1.17 (0.70-1.95, p=0.556)</td>
<td align="right">1.08 (0.64-1.81, p=0.785)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="model-tables-manually-using-ff_merge" class="section level2">
<h2 class="hasAnchor">
<a href="#model-tables-manually-using-ff_merge" class="anchor"></a>3 Model tables manually using <code><a href="../reference/ff_merge.html">ff_merge()</a></code>
</h2>
<div id="basic-table" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-table" class="anchor"></a>3.1 Basic table</h3>
<p>Note <code><a href="../reference/summary_factorlist.html">summary_factorlist()</a></code> needs argument, <code>fit_id = TRUE</code>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb38-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb38-5" data-line-number="5"></a>
<a class="sourceLine" id="cb38-6" data-line-number="6">## Crosstable</a>
<a class="sourceLine" id="cb38-7" data-line-number="7">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">fit_id=</span><span class="ot">TRUE</span>) -&gt;<span class="st"> </span>table_<span class="dv">1</span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9"></a>
<a class="sourceLine" id="cb38-10" data-line-number="10">## Univariable</a>
<a class="sourceLine" id="cb38-11" data-line-number="11">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-12" data-line-number="12"><span class="st">    </span><span class="kw"><a href="../reference/glmuni.html">glmuni</a></span>(dependent, explanatory) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-13" data-line-number="13"><span class="st">    </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (univariable)"</span>) -&gt;<span class="st"> </span>table_<span class="dv">2</span></a>
<a class="sourceLine" id="cb38-14" data-line-number="14"></a>
<a class="sourceLine" id="cb38-15" data-line-number="15">## Merge</a>
<a class="sourceLine" id="cb38-16" data-line-number="16"></a>
<a class="sourceLine" id="cb38-17" data-line-number="17">table_<span class="dv">1</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-18" data-line-number="18"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(table_<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-19" data-line-number="19"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span><span class="kw">c</span>(fit_id, index)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-20" data-line-number="20"><span class="st">    </span><span class="kw"><a href="../reference/dependent_label.html">dependent_label</a></span>(colon_s, dependent)-&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (46.3)</td>
<td align="right">36 (53.7)</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (61.4)</td>
<td align="right">131 (38.6)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.4)</td>
<td align="right">237 (46.6)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (55.6)</td>
<td align="right">194 (44.4)</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (56.1)</td>
<td align="right">210 (43.9)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (56.7)</td>
<td align="right">312 (43.3)</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (51.1)</td>
<td align="right">85 (48.9)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (56.0)</td>
<td align="right">391 (44.0)</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (51.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
</tr>
</tbody>
</table>
</div>
<div id="complex-table-all-in-single-pipe" class="section level3">
<h3 class="hasAnchor">
<a href="#complex-table-all-in-single-pipe" class="anchor"></a>3.2 Complex table (all in single pipe)</h3>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb39-3" data-line-number="3">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb39-4" data-line-number="4">random_effect =<span class="st"> "hospital"</span></a>
<a class="sourceLine" id="cb39-5" data-line-number="5">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb39-6" data-line-number="6"></a>
<a class="sourceLine" id="cb39-7" data-line-number="7"><span class="co"># All in one pipe</span></a>
<a class="sourceLine" id="cb39-8" data-line-number="8"></a>
<a class="sourceLine" id="cb39-9" data-line-number="9">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-10" data-line-number="10"><span class="st">    </span>## Crosstable</a>
<a class="sourceLine" id="cb39-11" data-line-number="11"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">fit_id=</span><span class="ot">TRUE</span>)  <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12"><span class="st">    </span></a>
<a class="sourceLine" id="cb39-13" data-line-number="13"><span class="st">    </span>## Add univariable</a>
<a class="sourceLine" id="cb39-14" data-line-number="14"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(</a>
<a class="sourceLine" id="cb39-15" data-line-number="15">        <span class="kw"><a href="../reference/glmuni.html">glmuni</a></span>(colon_s, dependent, explanatory) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-16" data-line-number="16"><span class="st">            </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (univariable)"</span>)</a>
<a class="sourceLine" id="cb39-17" data-line-number="17">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-18" data-line-number="18"><span class="st">    </span></a>
<a class="sourceLine" id="cb39-19" data-line-number="19"><span class="st">    </span>## Add multivariable</a>
<a class="sourceLine" id="cb39-20" data-line-number="20"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(</a>
<a class="sourceLine" id="cb39-21" data-line-number="21">        <span class="kw"><a href="../reference/glmmulti.html">glmmulti</a></span>(colon_s, dependent, explanatory) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-22" data-line-number="22"><span class="st">            </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (multivariable)"</span>)</a>
<a class="sourceLine" id="cb39-23" data-line-number="23">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-24" data-line-number="24"><span class="st">    </span></a>
<a class="sourceLine" id="cb39-25" data-line-number="25"><span class="st">    </span>## Add mixed effects</a>
<a class="sourceLine" id="cb39-26" data-line-number="26"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(</a>
<a class="sourceLine" id="cb39-27" data-line-number="27">        <span class="kw"><a href="../reference/glmmixed.html">glmmixed</a></span>(colon_s, dependent, explanatory, random_effect) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-28" data-line-number="28"><span class="st">            </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (multilevel)"</span>) </a>
<a class="sourceLine" id="cb39-29" data-line-number="29">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-30" data-line-number="30"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span><span class="kw">c</span>(fit_id, index)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-31" data-line-number="31"><span class="st">    </span><span class="kw"><a href="../reference/dependent_label.html">dependent_label</a></span>(colon_s, dependent) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
<th align="right">OR (multilevel)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (46.3)</td>
<td align="right">36 (53.7)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (61.4)</td>
<td align="right">131 (38.6)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
<td align="right">0.75 (0.39-1.44, p=0.382)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.4)</td>
<td align="right">237 (46.6)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
<td align="right">1.03 (0.55-1.96, p=0.916)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (55.6)</td>
<td align="right">194 (44.4)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (56.1)</td>
<td align="right">210 (43.9)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
<td align="right">0.80 (0.58-1.11, p=0.180)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (56.7)</td>
<td align="right">312 (43.3)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (51.1)</td>
<td align="right">85 (48.9)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
<td align="right">1.23 (0.82-1.83, p=0.320)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (56.0)</td>
<td align="right">391 (44.0)</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (51.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
<td align="right">1.03 (0.43-2.51, p=0.940)</td>
</tr>
</tbody>
</table>
</div>
<div id="using-base-r-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#using-base-r-functions" class="anchor"></a>3.3 Using base R functions</h3>
<p>Note <code><a href="../reference/ff_formula.html">ff_formula()</a></code> convenience function to make multivariable formula (<code>y ~ x1 + x2 + x3</code> etc.) from a <code>dependent</code> and <code>explanatory</code> vector of names.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb40-3" data-line-number="3">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor"</span>, <span class="st">"sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb40-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"></a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="co"># All in one pipe</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7"></a>
<a class="sourceLine" id="cb40-8" data-line-number="8">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9"><span class="st">    </span>## Crosstable</a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="st">    </span><span class="kw"><a href="../reference/summary_factorlist.html">summary_factorlist</a></span>(dependent, explanatory, <span class="dt">fit_id=</span><span class="ot">TRUE</span>)  <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="st">    </span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12"><span class="st">    </span>## Add univariable</a>
<a class="sourceLine" id="cb40-13" data-line-number="13"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(</a>
<a class="sourceLine" id="cb40-14" data-line-number="14">        <span class="kw"><a href="../reference/glmuni.html">glmuni</a></span>(colon_s, dependent, explanatory) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-15" data-line-number="15"><span class="st">            </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (univariable)"</span>)</a>
<a class="sourceLine" id="cb40-16" data-line-number="16">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-17" data-line-number="17"><span class="st">    </span></a>
<a class="sourceLine" id="cb40-18" data-line-number="18"><span class="st">    </span>## Add multivariable</a>
<a class="sourceLine" id="cb40-19" data-line-number="19"><span class="st">    </span><span class="kw"><a href="../reference/ff_merge.html">ff_merge</a></span>(</a>
<a class="sourceLine" id="cb40-20" data-line-number="20">        <span class="kw">glm</span>(</a>
<a class="sourceLine" id="cb40-21" data-line-number="21">            <span class="kw"><a href="../reference/ff_formula.html">ff_formula</a></span>(dependent, explanatory), <span class="dt">data =</span> colon_s, <span class="dt">family =</span> <span class="st">"binomial"</span>, <span class="dt">weights =</span> <span class="ot">NULL</span></a>
<a class="sourceLine" id="cb40-22" data-line-number="22">        ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-23" data-line-number="23"><span class="st">            </span><span class="kw"><a href="../reference/fit2df.html">fit2df</a></span>(<span class="dt">estimate_suffix=</span><span class="st">" (multivariable)"</span>)</a>
<a class="sourceLine" id="cb40-24" data-line-number="24">    ) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-25" data-line-number="25"><span class="st">    </span></a>
<a class="sourceLine" id="cb40-26" data-line-number="26"><span class="st">    </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span><span class="kw">c</span>(fit_id, index)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-27" data-line-number="27"><span class="st">    </span><span class="kw"><a href="../reference/dependent_label.html">dependent_label</a></span>(colon_s, dependent) -&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (46.3)</td>
<td align="right">36 (53.7)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (61.4)</td>
<td align="right">131 (38.6)</td>
<td align="right">0.54 (0.32-0.92, p=0.023)</td>
<td align="right">0.57 (0.34-0.98, p=0.041)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.4)</td>
<td align="right">237 (46.6)</td>
<td align="right">0.75 (0.45-1.25, p=0.270)</td>
<td align="right">0.81 (0.48-1.36, p=0.426)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (55.6)</td>
<td align="right">194 (44.4)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (56.1)</td>
<td align="right">210 (43.9)</td>
<td align="right">0.98 (0.76-1.27, p=0.889)</td>
<td align="right">0.98 (0.75-1.28, p=0.902)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (56.7)</td>
<td align="right">312 (43.3)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (51.1)</td>
<td align="right">85 (48.9)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.25 (0.90-1.76, p=0.186)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (56.0)</td>
<td align="right">391 (44.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (51.9)</td>
<td align="right">13 (48.1)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.12 (0.51-2.44, p=0.770)</td>
</tr>
</tbody>
</table>
</div>
<div id="edit-table-rows" class="section level3">
<h3 class="hasAnchor">
<a href="#edit-table-rows" class="anchor"></a>3.4 Edit table rows</h3>
<p>This can be done as any dataframe would be edited.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">library</span>(finalfit)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb41-3" data-line-number="3">explanatory =<span class="st"> </span><span class="kw">c</span>(<span class="st">"age.factor*sex.factor"</span>, <span class="st">"obstruct.factor"</span>, <span class="st">"perfor.factor"</span>)</a>
<a class="sourceLine" id="cb41-4" data-line-number="4">dependent =<span class="st"> "mort_5yr"</span></a>
<a class="sourceLine" id="cb41-5" data-line-number="5"></a>
<a class="sourceLine" id="cb41-6" data-line-number="6"><span class="co"># Run model for term test</span></a>
<a class="sourceLine" id="cb41-7" data-line-number="7">fit &lt;-<span class="st"> </span><span class="kw">glm</span>(</a>
<a class="sourceLine" id="cb41-8" data-line-number="8">    <span class="kw"><a href="../reference/ff_formula.html">ff_formula</a></span>(dependent, explanatory), </a>
<a class="sourceLine" id="cb41-9" data-line-number="9">    <span class="dt">data=</span>colon_s, <span class="dt">family =</span> binomial</a>
<a class="sourceLine" id="cb41-10" data-line-number="10">)</a>
<a class="sourceLine" id="cb41-11" data-line-number="11"></a>
<a class="sourceLine" id="cb41-12" data-line-number="12"><span class="co"># Not run</span></a>
<a class="sourceLine" id="cb41-13" data-line-number="13"><span class="co">#term_test &lt;- survey::regTermTest(fit, "age.factor:sex.factor")</span></a>
<a class="sourceLine" id="cb41-14" data-line-number="14"></a>
<a class="sourceLine" id="cb41-15" data-line-number="15"><span class="co"># Run final table with results of term test</span></a>
<a class="sourceLine" id="cb41-16" data-line-number="16">colon_s <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-17" data-line-number="17"><span class="st">    </span><span class="kw"><a href="../reference/finalfit.html">finalfit</a></span>(dependent, explanatory) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-18" data-line-number="18"><span class="st">    </span><span class="kw">rbind</span>(<span class="kw">c</span>(</a>
<a class="sourceLine" id="cb41-19" data-line-number="19">        <span class="st">"age.factor:sex.factor (overall)"</span>,</a>
<a class="sourceLine" id="cb41-20" data-line-number="20">        <span class="st">"Interaction"</span>,</a>
<a class="sourceLine" id="cb41-21" data-line-number="21">        <span class="st">"-"</span>,</a>
<a class="sourceLine" id="cb41-22" data-line-number="22">        <span class="st">"-"</span>,</a>
<a class="sourceLine" id="cb41-23" data-line-number="23">        <span class="st">"-"</span>,</a>
<a class="sourceLine" id="cb41-24" data-line-number="24">        <span class="kw">paste0</span>(<span class="st">"p = 0.775"</span>)</a>
<a class="sourceLine" id="cb41-25" data-line-number="25">    ))-&gt;<span class="st"> </span>t</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Dependent: Mortality 5 year</th>
<th></th>
<th align="right">Alive</th>
<th align="right">Died</th>
<th align="right">OR (univariable)</th>
<th align="right">OR (multivariable)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td>&lt;40 years</td>
<td align="right">31 (6.1)</td>
<td align="right">36 (8.9)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="even">
<td align="left"></td>
<td>40-59 years</td>
<td align="right">208 (40.7)</td>
<td align="right">131 (32.4)</td>
<td align="right">0.65 (0.32-1.34, p=0.241)</td>
<td align="right">0.66 (0.32-1.36, p=0.258)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>60+ years</td>
<td align="right">272 (53.2)</td>
<td align="right">237 (58.7)</td>
<td align="right">0.80 (0.40-1.61, p=0.529)</td>
<td align="right">0.85 (0.42-1.71, p=0.647)</td>
</tr>
<tr class="even">
<td align="left">Sex</td>
<td>Female</td>
<td align="right">243 (47.6)</td>
<td align="right">194 (48.0)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Male</td>
<td align="right">268 (52.4)</td>
<td align="right">210 (52.0)</td>
<td align="right">1.24 (0.47-3.30, p=0.665)</td>
<td align="right">1.17 (0.44-3.15, p=0.752)</td>
</tr>
<tr class="even">
<td align="left">Obstruction</td>
<td>No</td>
<td align="right">408 (82.1)</td>
<td align="right">312 (78.6)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">89 (17.9)</td>
<td align="right">85 (21.4)</td>
<td align="right">1.25 (0.90-1.74, p=0.189)</td>
<td align="right">1.26 (0.90-1.76, p=0.182)</td>
</tr>
<tr class="even">
<td align="left">Perforation</td>
<td>No</td>
<td align="right">497 (97.3)</td>
<td align="right">391 (96.8)</td>
<td align="right">-</td>
<td align="right">-</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td>Yes</td>
<td align="right">14 (2.7)</td>
<td align="right">13 (3.2)</td>
<td align="right">1.18 (0.54-2.55, p=0.672)</td>
<td align="right">1.11 (0.50-2.41, p=0.795)</td>
</tr>
<tr class="even">
<td align="left">age.factor40-59 years:sex.factorMale</td>
<td>Interaction</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.68 (0.23-1.97, p=0.479)</td>
<td align="right">0.74 (0.25-2.18, p=0.588)</td>
</tr>
<tr class="odd">
<td align="left">age.factor60+ years:sex.factorMale</td>
<td>Interaction</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">0.86 (0.30-2.39, p=0.766)</td>
<td align="right">0.89 (0.31-2.51, p=0.822)</td>
</tr>
<tr class="even">
<td align="left">age.factor:sex.factor (overall)</td>
<td>Interaction</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">-</td>
<td align="right">p = 0.775</td>
</tr>
</tbody>
</table>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#cross-tables">1 Cross tables</a></li>
      <li><a href="#model-tables-with-finalfit">2 Model tables with <code><a href="--/reference/finalfit-html">finalfit()</a></code></a></li>
      <li><a href="#exclude-all-missing-data-in-final-model-from-univariable-analyses">2.17 Exclude all missing data in final model from univariable analyses</a></li>
      <li><a href="#model-tables-manually-using-ff_merge">3 Model tables manually using <code><a href="--/reference/ff_merge-html">ff_merge()</a></code></a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Ewen Harrison, Tom Drake, Riinu Ots.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
